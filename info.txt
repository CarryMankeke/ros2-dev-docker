# Guía rápida en pseudocódigo (ros2-sim-vnc)

"""pseudo
1) Contenedores
 crear(): docker compose build ; docker compose up -d
  host:
    - macOS arm64 -> usar platform linux/arm64
    - Windows 10 x64 (Intel i3 + NVIDIA 1060) -> Docker Desktop + WSL2 con platform linux/amd64 y runtime nvidia
  leer(): docker compose ps ; docker compose logs -f ros2-vnc
  actualizar(): docker compose build --no-cache
  borrar(): docker compose down

2) Compilar workspace dentro del contenedor
 docker compose exec -T ros2-vnc bash -lc '
    source /opt/ros/jazzy/setup.bash
    cd /root/ros2_ws
    rm -rf build install log
    colcon build --symlink-install
  '

3) Lanzar modos
  sim_por_defecto(): ros2 launch mm_bringup modes.launch.py
  sim_mas_esp32(): ros2 launch mm_bringup modes.launch.py input:=esp32 teleop_mode:=hybrid
  rviz_sin_sim(): ros2 launch mm_bringup modes.launch.py launch_sim:=false clock_mode:=real input:=gui
 teleop_real(): ros2 launch mm_bringup modes.launch.py launch_sim:=false clock_mode:=real input:=esp32 teleop_mode:=base
  notas:
    - sincronicen use_sim_time según https://docs.ros.org/en/jazzy/How-To-Guides/Clock-and-Rate.html
    - QoS sensor_data para /joy y reliable para /cmd_vel y controladores como indica Jazzy (depth>=10)

4) Modelo de joystick (micro-ROS)
  ejes: axes[0]=X, axes[1]=Y invertido, axes[2]=dpad_x, axes[3]=dpad_y, axes[4]=mode(BASE/ARM/HYBRID)
 botones: 0=A 1=B 2=C 3=D 4=E 5=F 6=SW 7=START 8=SELECT 9-12=DPAD
  deadman: E o F
  base: XY -> cmd_vel lineal, C/D -> yaw
  brazo: D-pad -> incrementos articulares (trayectoria)
  gripper: A abre, B cierra
  home: SW ; cambio de modo: START/SELECT

5) Limpieza y reconstrucción total
  docker compose down
  docker compose build --pull
  docker compose up -d
"""
